"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3020],{78569:function(e,n,t){t.r(n),t.d(n,{assets:function(){return d},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return a},metadata:function(){return l},toc:function(){return s}});var r=t(52685),i=(t(27378),t(35318));const a={},o="Sendgrid",l={unversionedId:"channels/configuring-providers/email/sendgrid-provider",id:"channels/configuring-providers/email/sendgrid-provider",title:"Sendgrid",description:"Use your own Sendgrid email account to deliver notifications to your users via Engagespot. For this you need a Sendgrid account, and an API KEY from Sendgrid.",source:"@site/docs/channels/configuring-providers/email/sendgrid-provider.md",sourceDirName:"channels/configuring-providers/email",slug:"/channels/configuring-providers/email/sendgrid-provider",permalink:"/docs/channels/configuring-providers/email/sendgrid-provider",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/channels/configuring-providers/email/sendgrid-provider.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Mailgun",permalink:"/docs/channels/configuring-providers/email/mailgun"},next:{title:"Amazon SES",permalink:"/docs/channels/configuring-providers/email/ses"}},d={},s=[{value:"Unique Identifier",id:"unique-identifier",level:2},{value:"Enabling Sendgrid Provider",id:"enabling-sendgrid-provider",level:2},{value:"SMTP Provider Configurations.",id:"smtp-provider-configurations",level:2},{value:"How we send email via Sendgrid?",id:"how-we-send-email-via-sendgrid",level:2},{value:"Overriding Configurations",id:"overriding-configurations",level:2}],p={toc:s};function u(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"sendgrid"},"Sendgrid"),(0,i.kt)("p",null,"Use your own Sendgrid email account to deliver notifications to your users via Engagespot. For this you need a Sendgrid account, and an API KEY from Sendgrid."),(0,i.kt)("h2",{id:"unique-identifier"},"Unique Identifier"),(0,i.kt)("p",null,"Each provider is identified by a unique identifier. Unique identifier of Sendgrid provider is ",(0,i.kt)("inlineCode",{parentName:"p"},"sendgrid_email")),(0,i.kt)("h2",{id:"enabling-sendgrid-provider"},"Enabling Sendgrid Provider"),(0,i.kt)("p",null,"To enable Sendgrid provider, login to your Engagespot dashboard, goto Channels -> Email and enable Sendgrid Provider."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Sendgrid email provider uses ",(0,i.kt)("inlineCode",{parentName:"p"},"email")," attribute in your user's ",(0,i.kt)("a",{parentName:"p",href:"/docs/profile/what-are-user-profiles"},"profile")," as the primary address to deliver the notifications. So make sure your user's profile has the ",(0,i.kt)("inlineCode",{parentName:"p"},"email")," attribute set.")),(0,i.kt)("h2",{id:"smtp-provider-configurations"},"SMTP Provider Configurations."),(0,i.kt)("p",null,"Sendgrid Provider requires the following configurations."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Configuration"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Required"),(0,i.kt)("th",{parentName:"tr",align:null},"Example"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"API_KEY"),(0,i.kt)("td",{parentName:"tr",align:null},"Your Sendgrid API Key"),(0,i.kt)("td",{parentName:"tr",align:null},"Yes"),(0,i.kt)("td",{parentName:"tr",align:null},"SG.ju725hFjsj9inbV44VctejKLe64lo8vc")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"FROM_NAME"),(0,i.kt)("td",{parentName:"tr",align:null},"Default from name"),(0,i.kt)("td",{parentName:"tr",align:null},"No"),(0,i.kt)("td",{parentName:"tr",align:null},"Anand")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"FROM_EMAIL"),(0,i.kt)("td",{parentName:"tr",align:null},"Default from email"),(0,i.kt)("td",{parentName:"tr",align:null},"No"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"mailto:me@example.com"},"me@example.com"))))),(0,i.kt)("h2",{id:"how-we-send-email-via-sendgrid"},"How we send email via Sendgrid?"),(0,i.kt)("p",null,"There is no rocket science here. We simply use Sendgrid API to deliver your notifications. By default, if you donot override anything, we'll consider your ",(0,i.kt)("inlineCode",{parentName:"p"},"notification.title")," as the email subject, a combination of your ",(0,i.kt)("inlineCode",{parentName:"p"},"notification.title")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"notification.message")," as your email's body (Plain text), and if you have specified ",(0,i.kt)("inlineCode",{parentName:"p"},"notification.url"),", we will add a default button to your email with ",(0,i.kt)("strong",{parentName:"p"},"Click Here")," label."),(0,i.kt)("h2",{id:"overriding-configurations"},"Overriding Configurations"),(0,i.kt)("p",null,"Sendgrid provider allows you to override all the above configurations (and you can specify several more options) while sending a notification through Engagespot API, using the ",(0,i.kt)("inlineCode",{parentName:"p"},"https://api.engagespot.co/v3/notifications")," endpoint."),(0,i.kt)("p",null,"To override the configurations, you must supply them via ",(0,i.kt)("inlineCode",{parentName:"p"},"override.sendgrid_email")," parameter of the above API. Within the ",(0,i.kt)("inlineCode",{parentName:"p"},"override")," parameter, you can supply any parameter that we'll directly pass to Sendgrid ",(0,i.kt)("inlineCode",{parentName:"p"},"/v3/mail/send")," API ",(0,i.kt)("a",{parentName:"p",href:"https://docs.sendgrid.com/api-reference/mail-send/mail-send"},"See doc"),". This makes sure you can use the complete features of Sendgrid API while still using Engagespot to control your notifications!"),(0,i.kt)("p",null,"For example, the below example shows how to send attachments using Sendgrid provier."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"POST")," ",(0,i.kt)("inlineCode",{parentName:"p"},"/notifications")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "notification": {\n    "title": "Anand commented on your photo",\n    "message": "Hey Steve, you\'re looking cool \ud83d\ude0e. Who took this photo?",\n    "url": "https://your-app.com/photos/17293739",\n    "category": "comment"\n  },\n  "recipients": ["steve@example.com"],\n  "override": {\n    "sendgrid_email": {\n      "_config": {\n        "API_KEY": "SG.ju725hFjsj9inbV44VcGdtejKLe645JDkd99374gbh395cyhRg424Goloplo8vc"\n      },\n      "personalizations": [\n        {\n          "to": [\n            {\n              "name": "Vinu",\n              "email": "vinu@example.com"\n            }\n          ],\n          "dynamic_template_data": {\n            "friend_name": "Jobin"\n          }\n        }\n      ],\n      "template_id": "t.18hfgcba64g464jck",\n      "attachments": [\n      {\n        "content": "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCiAgICA8aGVhZD4KICAgICAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICAgICAgPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj4KICAgICAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CiAgICAgICAgPHRpdGxlPkRvY3VtZW50PC90aXRsZT4KICAgIDwvaGVhZD4KCiAgICA8Ym9keT4KCiAgICA8L2JvZHk+Cgo8L2h0bWw+Cg==",\n        "filename": "index.html",\n        "type": "text/html",\n        "disposition": "attachment"\n      }\n  ],\n    }\n  }\n}\n')),(0,i.kt)("p",null,"Within the override object of a provider, there is a ",(0,i.kt)("inlineCode",{parentName:"p"},"_config")," property where you can override the default configurations defined in Engagespot dashboard for that provider. This property will be removed before merging the override object with Sendgrid's send API."))}u.isMDXComponent=!0},35318:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return g}});var r=t(27378);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var d=r.createContext({}),s=function(e){var n=r.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=s(e.components);return r.createElement(d.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=s(t),g=i,m=c["".concat(d,".").concat(g)]||c[g]||u[g]||a;return t?r.createElement(m,o(o({ref:n},p),{},{components:t})):r.createElement(m,o({ref:n},p))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=c;var l={};for(var d in n)hasOwnProperty.call(n,d)&&(l[d]=n[d]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var s=2;s<a;s++)o[s]=t[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"}}]);