"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5219],{99506:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(27378),a=n(38944),o="tabItem_wHwb";function i(e){let{children:t,hidden:n,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(o,i),hidden:n},t)}},15091:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(52685),a=n(27378),o=n(38944),i=n(90362),s=n(56),u=n(45720),l=n(9169),c="tabList_J5MA",p="tabItem_l0OV";function d(e){var t;const{lazy:n,block:i,defaultValue:d,values:m,groupId:h,className:f}=e,y=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),b=m??y.map((e=>{let{props:{value:t,label:n,attributes:r}}=e;return{value:t,label:n,attributes:r}})),g=(0,s.l)(b,((e,t)=>e.value===t.value));if(g.length>0)throw new Error(`Docusaurus error: Duplicate values "${g.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const v=null===d?d:d??(null==(t=y.find((e=>e.props.default)))?void 0:t.props.value)??y[0].props.value;if(null!==v&&!b.some((e=>e.value===v)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${v}" but none of its children has the corresponding value. Available values are: ${b.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:E}=(0,u.U)(),[w,x]=(0,a.useState)(v),N=[],{blockElementScrollPositionUntilNextRender:T}=(0,l.o5)();if(null!=h){const e=k[h];null!=e&&e!==w&&b.some((t=>t.value===e))&&x(e)}const O=e=>{const t=e.currentTarget,n=N.indexOf(t),r=b[n].value;r!==w&&(T(t),x(r),null!=h&&E(h,String(r)))},P=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{const t=N.indexOf(e.currentTarget)+1;n=N[t]??N[0];break}case"ArrowLeft":{const t=N.indexOf(e.currentTarget)-1;n=N[t]??N[N.length-1];break}}null==(t=n)||t.focus()};return a.createElement("div",{className:(0,o.Z)("tabs-container",c)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":i},f)},b.map((e=>{let{value:t,label:n,attributes:i}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:w===t?0:-1,"aria-selected":w===t,key:t,ref:e=>N.push(e),onKeyDown:P,onFocus:O,onClick:O},i,{className:(0,o.Z)("tabs__item",p,null==i?void 0:i.className,{"tabs__item--active":w===t})}),n??t)}))),n?(0,a.cloneElement)(y.filter((e=>e.props.value===w))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},y.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==w})))))}function m(e){const t=(0,i.Z)();return a.createElement(d,(0,r.Z)({key:String(t)},e))}},34100:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return u},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return p}});var r=n(52685),a=(n(27378),n(35318)),o=n(15091),i=n(99506);const s={sidebar_position:1},u="User",l={unversionedId:"user/who-is-user",id:"user/who-is-user",title:"User",description:"User is the recipient who can receive notifications from your app.",source:"@site/docs/user/who-is-user.mdx",sourceDirName:"user",slug:"/user/who-is-user",permalink:"/docs/user/who-is-user",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/user/who-is-user.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Twilio WhatsApp",permalink:"/docs/channels/configuring-providers/whatsapp/twilio"},next:{title:"User Profile",permalink:"/docs/user/profile"}},c={},p=[{value:"Why Engagespot needs to identify your users?",id:"why-engagespot-needs-to-identify-your-users",level:2},{value:"Structure of user data",id:"structure-of-user-data",level:2},{value:"Additional attributes",id:"additional-attributes",level:3},{value:"Sending your user&#39;s data to Engagespot",id:"sending-your-users-data-to-engagespot",level:2},{value:"When should you send your user&#39;s data?",id:"when-should-you-send-your-users-data",level:2}],d={toc:p};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"user"},"User"),(0,a.kt)("p",null,"User is the recipient who can receive notifications from your app.\nYou should use our API or front-end SDK to send your user's data to Engagespot, so that Engagespot can deliver notifications to them."),(0,a.kt)("h2",{id:"why-engagespot-needs-to-identify-your-users"},"Why Engagespot needs to identify your users?"),(0,a.kt)("p",null,"When you use a third party service like Engagespot to build your multi-channel product notification infrastructure,\nwe manage the delivery, store your user's notification preferences etc. So it is essential that you share your user's\ndetails like email, phone number etc to our system. We store your user's information in a highly secure and encrypted environment."),(0,a.kt)("h2",{id:"structure-of-user-data"},"Structure of user data"),(0,a.kt)("p",null,"Every user should have a unique ",(0,a.kt)("inlineCode",{parentName:"p"},"identifier"),". It could be the auto-increment id from your database,\nor any other unique value such as their Email or Phone number."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"The unique identifier you choose for the user should be unique across your entire application. It should never change.")),(0,a.kt)("h3",{id:"additional-attributes"},"Additional attributes"),(0,a.kt)("p",null,"Along with the unique identifier, a user can have multiple attributes attached to their profile.\nThis could be their Email id, phone number, FCM token, profile picture, name or anything.\nSome notification channels requires certain attributes in the user's profile to work. For example, the SMS channel works only for users who have ",(0,a.kt)("inlineCode",{parentName:"p"},"phoneNumber")," attribute set in their profile.\nTo read more about profiles, and how to set them, read ",(0,a.kt)("a",{href:"../profile/what-are-user-profiles"},"User Profile guide")),(0,a.kt)("p",null,"Here are some of the attributes that is recommended for your users."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,a.kt)("th",{parentName:"tr",align:null},"Usage"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"email")),(0,a.kt)("td",{parentName:"tr",align:null},"Used to deliver emails to the user. If you set your identifier itself as the email, then this property will be auto created.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"phoneNumber")),(0,a.kt)("td",{parentName:"tr",align:null},"Used to deliver SMS and WhatsApp messages. Make sure to use the ",(0,a.kt)("a",{href:"https://www.twilio.com/docs/glossary/what-e164",target:"_blank",rel:"nofollow"},"E.164 format"))))),(0,a.kt)("h2",{id:"sending-your-users-data-to-engagespot"},"Sending your user's data to Engagespot"),(0,a.kt)("p",null,"You can let Engagespot identify your app users via multiple ways."),(0,a.kt)("p",null,"If you use Engagespot notification feed component in your front-end app such as React, Angular, Vue or any other Javascript stack,\nyou can directly use the component to initialize and identify a user who logged into your app. Or else you can use the ",(0,a.kt)("a",{href:"/docs/rest-api#tag/Users/paths/~1v3~1users~1%7Bidentifier%7D/put"},"User REST API")," directly."),(0,a.kt)(o.Z,{mdxType:"Tabs"},(0,a.kt)(i.Z,{value:"react",label:"React",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'<Engagespot apiKey="ENGAGESPOT_API_KEY" userId="XXXX" />\n'))),(0,a.kt)(i.Z,{value:"javascript",label:"Javascript Front-end UI Kit",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'Engagespot.render(\'#bellIcon\', {\n  apiKey: "ENGAGESPOT_API_KEY",\n  userId: "XXXXX",\n});\n'))),(0,a.kt)(i.Z,{value:"node",label:"NodeJS",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import { EngagespotClient } from "@engagespot/node";\n\n  const client = EngagespotClient({\n    apiKey:\'ENGAGESPOT_API_KEY\',\n    apiSecret:\'ENGAGESPOT_API_SECRET\'\n  })\n\n  client.createOrUpdateUser("identifier",{\n    "email":"xxx@xxx.com",\n    "phoneNumber":"+xxxxxxxxx"\n  })\n\n'))),(0,a.kt)(i.Z,{value:"curl",label:"Curl",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"curl --location --request PUT 'https://api.engagespot.co/v3/users/{identifier}' \\\n--header 'X-ENGAGESPOT-API-KEY: ENGAGESPOT_API_KEY' \\\n--header 'X-ENGAGESPOT-API-SECRET: ENGAGESPOT_API_SECRET' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n\"email\":\"xxx@xxx.com\",\n\"phoneNumber\":\"+xxxxxxxxx\"\n}'\n\n")))),(0,a.kt)("h2",{id:"when-should-you-send-your-users-data"},"When should you send your user's data?"),(0,a.kt)("p",null,"The simple rule is to send the user's data whenever it is available. For example, during signup, login, or profile update operation in your app.\nMake sure you share the user's data before sending any notification to them."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"If you try to send a notification to a user whose data isn't available in Engagespot, it will be discarded.")))}m.isMDXComponent=!0},35318:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(27378);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(n),m=a,h=d["".concat(u,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);