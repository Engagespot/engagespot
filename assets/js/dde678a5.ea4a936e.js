"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[673],{35318:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return m}});var i=t(27378);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var u=i.createContext({}),d=function(e){var n=i.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=d(e.components);return i.createElement(u.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},c=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),c=d(t),m=a,g=c["".concat(u,".").concat(m)]||c[m]||s[m]||r;return t?i.createElement(g,o(o({ref:n},p),{},{components:t})):i.createElement(g,o({ref:n},p))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,o=new Array(r);o[0]=c;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var d=2;d<r;d++)o[d]=t[d];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}c.displayName="MDXCreateElement"},47913:function(e,n,t){t.r(n),t.d(n,{contentTitle:function(){return u},default:function(){return c},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return p}});var i=t(25773),a=t(30808),r=(t(27378),t(35318)),o=["components"],l={},u="Mailgun",d={unversionedId:"channels/configuring-providers/email/mailgun",id:"channels/configuring-providers/email/mailgun",title:"Mailgun",description:"Use your own Mailgun account to deliver notifications to your users via Engagespot. For this you need a Mailgun account, and few other credentials from Mailgun.",source:"@site/docs/channels/configuring-providers/email/mailgun.md",sourceDirName:"channels/configuring-providers/email",slug:"/channels/configuring-providers/email/mailgun",permalink:"/docs/channels/configuring-providers/email/mailgun",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/channels/configuring-providers/email/mailgun.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"What are Providers?",permalink:"/docs/channels/what-are-providers"},next:{title:"Sendgrid",permalink:"/docs/channels/configuring-providers/email/sendgrid-provider"}},p=[{value:"Unique Identifier",id:"unique-identifier",children:[],level:2},{value:"Enabling Mailgun Provider",id:"enabling-mailgun-provider",children:[],level:2},{value:"Mailgun Provider Configurations.",id:"mailgun-provider-configurations",children:[],level:2},{value:"How we send email via Mailgun?",id:"how-we-send-email-via-mailgun",children:[],level:2},{value:"Overriding Configurations",id:"overriding-configurations",children:[],level:2}],s={toc:p};function c(e){var n=e.components,t=(0,a.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"mailgun"},"Mailgun"),(0,r.kt)("p",null,"Use your own Mailgun account to deliver notifications to your users via Engagespot. For this you need a Mailgun account, and few other credentials from Mailgun."),(0,r.kt)("h2",{id:"unique-identifier"},"Unique Identifier"),(0,r.kt)("p",null,"Each provider is identified by a unique identifier. Unique identifier of Mailgun provider is ",(0,r.kt)("inlineCode",{parentName:"p"},"mailgun")),(0,r.kt)("h2",{id:"enabling-mailgun-provider"},"Enabling Mailgun Provider"),(0,r.kt)("p",null,"To enable Mailgun provider, login to your Engagespot dashboard, goto Channels -> Email and enable Mailgun Provider."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Mailgun email provider uses ",(0,r.kt)("inlineCode",{parentName:"p"},"email")," attribute in your user's ",(0,r.kt)("a",{parentName:"p",href:"/docs/profile/what-are-user-profiles"},"profile")," as the primary address to deliver the notifications. So make sure your user's profile has the ",(0,r.kt)("inlineCode",{parentName:"p"},"email")," attribute set."))),(0,r.kt)("h2",{id:"mailgun-provider-configurations"},"Mailgun Provider Configurations."),(0,r.kt)("p",null,"Mailgun Provider requires the following configurations."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Configuration"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"apiKey"),(0,r.kt)("td",{parentName:"tr",align:null},"Your Mailgun API Key"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"21b20a854e3df1ac46cb3aa2b9c6fd314")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"region"),(0,r.kt)("td",{parentName:"tr",align:null},"Region of your Mailgun account"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"It should be either US or EU")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"domain"),(0,r.kt)("td",{parentName:"tr",align:null},"Your registered Mailgun Domain"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},"sandboxb9e650f115fc4f55beer32b60c33fc98.mailgun.org")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fromEmail"),(0,r.kt)("td",{parentName:"tr",align:null},"From email address"),(0,r.kt)("td",{parentName:"tr",align:null},"Yes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"mailto:noreply@myapp.com"},"noreply@myapp.com"))))),(0,r.kt)("h2",{id:"how-we-send-email-via-mailgun"},"How we send email via Mailgun?"),(0,r.kt)("p",null,"We simply use Mailgun API to deliver your notifications. By default, if you donot override anything, we'll consider your ",(0,r.kt)("inlineCode",{parentName:"p"},"notification.title")," as the email subject, a combination of your ",(0,r.kt)("inlineCode",{parentName:"p"},"notification.title")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"notification.message")," as your email's body (Plain text), and if you have specified ",(0,r.kt)("inlineCode",{parentName:"p"},"notification.url"),", we will add a default button to your email with ",(0,r.kt)("strong",{parentName:"p"},"Click Here")," label."),(0,r.kt)("h2",{id:"overriding-configurations"},"Overriding Configurations"),(0,r.kt)("p",null,"Mailgun provider allows you to override all the above configurations (and you can specify several more options) while sending a notification through Engagespot API, using the ",(0,r.kt)("inlineCode",{parentName:"p"},"https://api.engagespot.co/v3/notifications")," endpoint."),(0,r.kt)("p",null,"To override the configurations, you must supply them via ",(0,r.kt)("inlineCode",{parentName:"p"},"override.mailgun")," parameter of the above API. Within the ",(0,r.kt)("inlineCode",{parentName:"p"},"override")," parameter, you can supply any parameter that we'll directly pass to Mailgun ",(0,r.kt)("inlineCode",{parentName:"p"},"/v3/mail/send")," API ",(0,r.kt)("a",{parentName:"p",href:"https://documentation.mailgun.com/en/latest/api-sending.html#sending"},"See doc"),". This makes sure you can use the complete features of Mailgun API while still using Engagespot to control your notifications!"),(0,r.kt)("p",null,"For example,"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"POST")," ",(0,r.kt)("inlineCode",{parentName:"p"},"/notifications")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "notification": {\n    "title": "Anand commented on your photo",\n    "message": "Hey Steve, you\'re looking cool \ud83d\ude0e. Who took this photo?",\n    "url": "https://your-app.com/photos/17293739",\n    "category": "comment"\n  },\n  "recipients": ["steve@example.com"],\n  "override": {\n    "mailgun": {\n      "_config": {\n        "apiKey": "21b20a854e3df1ac46cb3aa2b9c6fd314",\n        "domain": "sandboxb9e650c33fc98.mailgun.org"\n      },\n      "subject": "Hey, I\'m overriding the subject",\n      "html": "I want more content in my email <b>notification</b>",\n      "whatever": "keys and values you pass here will be directly sent to Mailgun\'s Send API \ud83c\udf89"\n    }\n  }\n}\n')),(0,r.kt)("p",null,"Within the override object of a provider, there is a ",(0,r.kt)("inlineCode",{parentName:"p"},"_config")," property where you can override the default configurations defined in Engagespot dashboard for that provider. This property will be removed before merging the override object with providers API."))}c.isMDXComponent=!0}}]);