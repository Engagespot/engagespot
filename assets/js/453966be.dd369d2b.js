"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1829],{99506:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(27378),a=n(38944),o="tabItem_wHwb";function i(e){let{children:t,hidden:n,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(o,i),hidden:n},t)}},15091:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(52685),a=n(27378),o=n(38944),i=n(90362),u=n(56),s=n(45720),l=n(9169),c="tabList_J5MA",p="tabItem_l0OV";function d(e){var t;const{lazy:n,block:i,defaultValue:d,values:h,groupId:m,className:f}=e,g=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),y=h??g.map((e=>{let{props:{value:t,label:n,attributes:r}}=e;return{value:t,label:n,attributes:r}})),b=(0,u.l)(y,((e,t)=>e.value===t.value));if(b.length>0)throw new Error(`Docusaurus error: Duplicate values "${b.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const v=null===d?d:d??(null==(t=g.find((e=>e.props.default)))?void 0:t.props.value)??g[0].props.value;if(null!==v&&!y.some((e=>e.value===v)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${v}" but none of its children has the corresponding value. Available values are: ${y.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:A}=(0,s.U)(),[E,C]=(0,a.useState)(v),O=[],{blockElementScrollPositionUntilNextRender:w}=(0,l.o5)();if(null!=m){const e=k[m];null!=e&&e!==E&&y.some((t=>t.value===e))&&C(e)}const M=e=>{const t=e.currentTarget,n=O.indexOf(t),r=y[n].value;r!==E&&(w(t),C(r),null!=m&&A(m,String(r)))},T=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{const t=O.indexOf(e.currentTarget)+1;n=O[t]??O[0];break}case"ArrowLeft":{const t=O.indexOf(e.currentTarget)-1;n=O[t]??O[O.length-1];break}}null==(t=n)||t.focus()};return a.createElement("div",{className:(0,o.Z)("tabs-container",c)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":i},f)},y.map((e=>{let{value:t,label:n,attributes:i}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:E===t?0:-1,"aria-selected":E===t,key:t,ref:e=>O.push(e),onKeyDown:T,onFocus:M,onClick:M},i,{className:(0,o.Z)("tabs__item",p,null==i?void 0:i.className,{"tabs__item--active":E===t})}),n??t)}))),n?(0,a.cloneElement)(g.filter((e=>e.props.value===E))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},g.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==E})))))}function h(e){const t=(0,i.Z)();return a.createElement(d,(0,r.Z)({key:String(t)},e))}},8376:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return u},metadata:function(){return l},toc:function(){return p}});var r=n(52685),a=(n(27378),n(35318)),o=n(15091),i=n(99506);const u={},s="Enabling HMAC Authentication",l={unversionedId:"HMAC-authentication/enabling-HMAC-authentication",id:"HMAC-authentication/enabling-HMAC-authentication",title:"Enabling HMAC Authentication",description:"HMAC Authentication is an added security mechanism to prevent other people from reading your user's notifications. By default HMAC Authentication is turned off. But we highly recommend to turn it ON before making your app live.",source:"@site/docs/HMAC-authentication/enabling-HMAC-authentication.mdx",sourceDirName:"HMAC-authentication",slug:"/HMAC-authentication/enabling-HMAC-authentication",permalink:"/docs/HMAC-authentication/enabling-HMAC-authentication",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/HMAC-authentication/enabling-HMAC-authentication.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"What are User Profiles?",permalink:"/docs/profile/what-are-user-profiles"},next:{title:"Your First Notification Center",permalink:"/docs/learn-by-examples/react-component/simple-notification"}},c={},p=[{value:"Generating HMAC Signature",id:"generating-hmac-signature",level:2},{value:"On your Server code",id:"on-your-server-code",level:3},{value:"On your front-end",id:"on-your-front-end",level:3}],d={toc:p};function h(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"enabling-hmac-authentication"},"Enabling HMAC Authentication"),(0,a.kt)("p",null,"HMAC Authentication is an added security mechanism to prevent other people from reading your user's notifications. By default HMAC Authentication is turned off. But we highly recommend to turn it ON before making your app live."),(0,a.kt)("p",null,"To enable HMAC Authentication, you need to pass an HMAC signature value to the Engagespot front-end initialization code. And you must generate this HMAC signature on your ",(0,a.kt)("em",{parentName:"p"},"backend")," using your Engagespot API SECRET."),(0,a.kt)("p",null,"This will ensure that each user in your app will get a unique secret token, and they can authenticate themselves to Engagespot only using this token. Whereas without HMAC authentication, your users are authenticating to Engagespot just using their userId (be it email or a unique number that can be easily guessed). It's dangerous!"),(0,a.kt)("p",null,"Here is how you can do this."),(0,a.kt)("h2",{id:"generating-hmac-signature"},"Generating HMAC Signature"),(0,a.kt)("p",null,"In you backend, use any crypto library to generate an HMAC signature for your user's unique identifier (For example, if you're passing your user's email id as ",(0,a.kt)("inlineCode",{parentName:"p"},"userId")," to Engagespot front-end SDK, then you should hash the user's email). Use your Engagespot API-SECRET (NOT your API KEY) as the secret key for generating this hash. And you should pass this base64 encoded value of this hash to ",(0,a.kt)("inlineCode",{parentName:"p"},"userSignature")," parameter in your front-end Engagespot SDK."),(0,a.kt)("h3",{id:"on-your-server-code"},"On your Server code"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import createHmac from 'crypto';\nconst userId = 'youruser@example.com';\nconst hash = createHmac('sha256', apiSecret)\n  .update(userId, 'utf8')\n  .digest('base64');\n")),(0,a.kt)("p",null,"You must return this hash to your front-end app via an API call or something."),(0,a.kt)("h3",{id:"on-your-front-end"},"On your front-end"),(0,a.kt)("p",null,"You should pass this hash via the ",(0,a.kt)("inlineCode",{parentName:"p"},"userSignature")," property."),(0,a.kt)(o.Z,{mdxType:"Tabs"},(0,a.kt)(i.Z,{value:"jscore",label:"JavaScript Core",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const engagespotInstance = new Engagespot('YOUR_ENGAGESPOT_API_KEY', {\n  userId: 'youruser@example.com',\n  userSignature: hash,\n});\n"))),(0,a.kt)(i.Z,{value:"reactjs",label:"ReactJS",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"<Engagespot\n   apiKey={ENGAGESPOT_API_KEY}\n   userId={youruser@example.com}\n   userSignature={hash} //Hmac hashed value of the above userId\n/>\n")))))}h.isMDXComponent=!0},35318:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var r=n(27378);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),l=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),d=l(n),h=a,m=d["".concat(s,".").concat(h)]||d[h]||p[h]||o;return n?r.createElement(m,i(i({ref:t},c),{},{components:n})):r.createElement(m,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var u={};for(var s in t)hasOwnProperty.call(t,s)&&(u[s]=t[s]);u.originalType=e,u.mdxType="string"==typeof e?e:a,i[1]=u;for(var l=2;l<o;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);